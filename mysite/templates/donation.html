{% extends 'base.html' %}
{% load static %}
{% block title %}Make Donations || NDF{% endblock %}
{% block content %}
    {% if msg %}

        <script>
        alert("{{ msg }}");
        </script>

    {% endif %}
	<style>
		.card.mb-3 {
    		margin-bottom: 30px !important;
		}
		.card {
    		box-shadow: 0 0.46875rem 2.1875rem rgba(4,9,20,0.03),0 0.9375rem 1.40625rem rgba(4,9,20,0.03),0 0.25rem 0.53125rem rgba(4,9,20,0.05),0 0.125rem 0.1875rem rgba(4,9,20,0.03);
    		border-width: 0;
    		transition: all .2s;
		}
		.card {
    		position: relative;
    		display: flex;
    		flex-direction: column;
    		min-width: 0;
    		word-wrap: break-word;
    		background-color: #fff;
    		background-clip: border-box;
    		border: 1px solid rgba(26,54,126,0.125);
        		border-top-width: 1px;
        		border-right-width: 1px;
        		border-bottom-width: 1px;
        		border-left-width: 1px;
    		border-radius: .25rem;
		}
		.card-body {
    		flex: 1 1 auto;
    		padding: 1.25rem;
		}
		.card-header, .card-title {
    		text-transform: uppercase;
    		color: rgba(13,27,62,0.7);
    		font-weight: bold;
    		font-size: .88rem;
		}
		.ml-auto, .mx-auto {
    		margin-left: auto !important;
		}
		.mr-auto, .mx-auto {
    		margin-right: auto !important;
		}
		.radio-toolbar input[type="radio"] {
    		display: none;
		}
		input[type="radio"], input[type="checkbox"] {
    		box-sizing: border-box;
    		padding: 0;
		}
		input, select {
    		border: 1px solid #CCC;
    		width: 250px;
		}
		input, button {
    		height: 35px;
    		margin: 0;
    		border-radius: 2px;
    		font-family: inherit;
    		font-size: 100%;
    		color: inherit;
		}
		button, input {
    		overflow: visible;
		}
		input, button, select, optgroup, textarea {
    		line-height: inherit;
		}
		.radio-toolbar input[type="radio"]:checked + label {
    		background-color: #bbb;
    		box-shadow: 2px 2px #1eaf0d;
		}
		.radio-toolbar label {
    		display: inline-block;
    		background-color: #ddd;
    		padding: 13px 15px;
    		font-family: Arial;
    		font-size: 16px;
    		cursor: pointer;
    		border-radius: 10px;
		}
		label {
    		max-width: 100%;
    		margin-bottom: 5px;
    		font-weight: 700;
		}
	</style>
    <div class="header-height"></div>
        
    <div class="pager-header">
        <div class="container">
            <div class="page-content">
                <h2>Make Donations</h2>
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="{% url 'Index' %}">Home</a></li>
                    <li class="breadcrumb-item active">Make Donations</li>
                </ol>
            </div>
        </div>
    </div><!-- /Page Header -->

    <section class="about-section bg-grey bd-bottom padding">
        <div class="container">
            <div class="section-heading mb-40">
                <h2 class="text-center">Donation <span style="color: #0aaaa0;">Form</span></h2>
                <center><img src="{% static 'mysite/img/title-bottom.png' %}" alt=""></center>
                
                <div class="main-card mb-3 card">
            <div class="card-body">
                <h5 class="card-title">Donate</h5>
                <form id="myForm" class="col-md-10 mx-auto" method="post" action="{% url 'process_payment' %}">
                    {% csrf_token %}
                    <h6 style="font-weight: bold;">Select the amount you wish to donate or enter your amount in the Enter Donation field.</h6>
                    <input type="text" value="Donationn" name="object_type" hidden>
                    <input type="text" id="quantity" name="quantity" value="1" hidden>
                    <input type="text" id="type" name="type" value="" hidden>
                    <input type="text" value="Stripe" id="payment_method" name="payment_method"  hidden>
                    <div class="radio-toolbar">
                        <input id="radio1" value="25" type="radio" name="radios" >
                        <label for="radio1">$25</label>

                        <input id="radio2" value="100" type="radio" name="radios" >
                        <label for="radio2">$100</label>

                        <input id="radio3" value="250" type="radio" name="radios" >
                        <label for="radio3">$250</label>

                        <input id="radio4" value="500" type="radio" name="radios" >
                        <label for="radio4">$500</label>

                        <input id="radio5" value="1000" type="radio" name="radios" >
                        <label for="radio5">$1000</label>

                        <input id="radio6" value="5000" type="radio" name="radios" >
                        <label for="radio6">$5000</label>

                        <input id="radio7" value="10000" type="radio" name="radios" >
                        <label for="radio7">$10000</label>

                        <br />
                        $
                        <label for="radio8" style="width: 50%; padding: 5px;">
                            <input id="custom-amount" type="text" class="form-control inputtext" name="country" placeholder="Enter donation" >
                        </label>  
                    </div>
                    <hr>
                    <div class="row">
                        <div class="col-lg-4" style="margin-bottom: 10px;" >
                            <div class="form-group">
                                <input type="checkbox" name="">
                                <label for="name" class="lbldesign">Make this contribution:*</label>
                            </div>
                        </div>
                        <div class="col-lg-4" style="margin-bottom: 10px;">
                            <select name="frequency" class="form-control">
                                <option value="-1">- Frequency -</option>
                                <option value="weekly">Weekly</option>
                                <option value="monthly">Monthly</option>
                                <option value="quarterly">Quarterly</option>
                                <option value="twice a year">Twice a Year</option>
                                <option value="yearly">Yearly</option>
                            </select>
                        </div>
                        <div class="col-lg-4" style="margin-bottom: 10px;">
                            <select name="duration" class="form-control">
                                <option value="-1">- Duration -</option>
                                <option value="end of year">Until End of Year</option>
                                <option value="contact you">Until I Contact You</option>
                            </select>
                        </div>
                    </div>
                    <hr>
                    <div class="form-group">
                        <input type="checkbox" name="dedicate">
                        <label for="name" class="lbldesign"> I'd like to dedicate my gift to someone special</label>
                    </div>
                    <hr>
                    <h3><b>Billing Information</b></h3>
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="form-group">
                                <label for="name">First Name</label>
                                <input type="text" id="fname" name="firstname" class="form-control" placeholder="Enter First Name">
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="form-group">
                                <label for="name">Last Name</label>
                                <input type="text" id="lname" name="lname" class="form-control" placeholder="Enter Last Name">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label for="name">Street Address (Required)</label>
                                <input type="text" id="address1" name="address1" class="form-control" placeholder="Enter Address1">
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label for="name">Street Address (Optional)</label>
                                <input type="text" id="address2" class="form-control" placeholder="Enter Address2">
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label for="name">Postal Code </label>
                                <input type="text" id="postal_code" name="postal_code" class="form-control" placeholder="Enter Postal Code">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-4" style="margin-bottom: 10px;">
                            <label for="country">Country</label>
                            <select name="res_country"  class="form-control">
                                <option value="">Select Country</option>
                            </select>
                        </div>
                        <div class="col-lg-4" style="margin-bottom: 10px;">
                            <label for="state">State / Province</label>
                            <select name="state" class="form-control">
                                <option value="">Select State</option>
                            </select>
                        </div>
                        <div class="col-lg-4" style="margin-bottom: 10px;">
                            <label for="city">City</label>
                            <select name="city" class="form-control">
                                <option value="-1">Select City</option>
                            </select>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12">
                            <label for="name">Email</label>
                            <input type="email" name="email" class="form-control" id="email" placeholder="Enter Email">
                        </div>
                    </div>

                    <div class="row">
                                <div class="col-sm-12">
                                    <div class="form-group" id="payment-group">
                                        <label for="name">Payment Method</label><br>
                                        <!--<label class="checkbox-inline"><input style="height: 20px;float: left" type="radio" name="payment" value="Paypal" checked /> Paypal <img src="{% static 'mysite/img/paypal.png' %}" width="70px" alt="PayPal"></label><br>-->
                                        <label class="checkbox-inline" style="margin-top:10px"><input style="height: 20px;float: left" type="radio" name="payment" id="stripe" value="Stripe" checked required selected /> Card <img src="{% static 'mysite/img/stripe.png' %}" width="150px" alt="Stripe | Credit Card Payments"></label><br>
                                        <label class="checkbox-inline" style="margin-top:10px"><input style="height: 20px;float: left" type="radio" name="payment" id="voucher" value="Voucher" /> Use NDF Voucher</label>
                                    </div>
                                    <div class="form-group" id="voucher-payment" style="display: none">
                                        <input type="text" class="form-control" name="voucher" placeholder="Enter Voucher Code" />
                                    </div>
                                </div>
                            </div>
                    <br>

      <div id="example1"></div>
      <br>
{#      <input type="submit" value="getResponse">#}

    <br>
                    <div class="row">
                        <div class="col-lg-12" style="text-align: center; padding: 10px;">
                            <input type="submit" value="Submit" class="btn btn-primary">
                        </div>
                    </div>
                </form>
                <div class="row">
                    <div class="col-lg-12 text-center">
                        <p>Your donation is non-refundable and not transferrable. A receipt will be sent to the email address you provided.</p>
                        <p>Are you having problems donating? <a href="{% url 'Contact Us' %}">Contact us.</a></p>
                        <p>If you would prefer to donate by cheaque, please send to:</p>
                        <p><b>8745 W Higgins Road,</b></p>
                        <p><b>Suite 110 Chicago</b></p>
                        <p><b>60631</b></p>
                    </div>
                </div>
            </div>
        </div>
                
                
                
                
                
            </div><!-- /Section Heading -->
        </div>
    </section><!-- /About Section -->
    <script type="text/javascript">
 doSubmit = false;
      var verifyCallback = function(response) {

        if (response === grecaptcha.getResponse()) {
        doSubmit = true;
    }
        //alert(doSubmit);
      };
      var widgetId1;
      var widgetId2;
      var onloadCallback = function() {
        // Renders the HTML element with id 'example1' as a reCAPTCHA widget.
        // The id of the reCAPTCHA widget is assigned to 'widgetId1'.
        widgetId1 = grecaptcha.render('example1', {
          'sitekey' : '6LdXZrkZAAAAAKJrnvYStwEm-6tn6eQpdWFeQWub',
          'theme' : 'light',
            'callback' : verifyCallback,
        });
        widgetId2 = grecaptcha.render(document.getElementById('example2'), {
          'sitekey' : '6LdXZrkZAAAAAKJrnvYStwEm-6tn6eQpdWFeQWub'
        });
        grecaptcha.render('example3', {
          'sitekey' : '6LdXZrkZAAAAAKJrnvYStwEm-6tn6eQpdWFeQWub',
          'callback' : verifyCallback,
          'theme' : 'dark'
        });
      };

      document.getElementById("myForm").addEventListener('submit',function(e){
          e.preventDefault()
    if (doSubmit) {
        /* submit form or do something else */
        document.getElementById("myForm").submit();
    }
    else{

        alert("Check the Captcha first");

    }
});
    </script>
    <script src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit"
        async defer>
    </script>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script>
    $(document).ready(function () {
         $('input:radio[name="payment"]').change(
    function(){
        if ($(this).is(':checked') && $(this).val() == 'Voucher') {

            $('#voucher-payment').css('display','block');
            $("#payment_method").val("Voucher");
        }
    });
            $('input:radio[name="payment"]').change(
    function(){
        if ($(this).is(':checked') && $(this).val() == 'Stripe') {

            $('#voucher-payment').css('display','none');
            $("#payment_method").val("Stripe");
        }
    });
            $('input:radio[name="payment"]').change(
    function(){
        if ($(this).is(':checked') && $(this).val() == 'Paypal') {

            $('#voucher-payment').css('display','none');
            $("#payment_method").val("Paypal");
        }
    });




    $('input:radio[name="radios"]').change(
    function(){
        if ($(this).is(':checked') && $(this).val() == '25') {

            $("#custom-amount").val("25");
            $("#type").val("25");

        }
    });
            $('input:radio[name="radios"]').change(
    function(){
        if ($(this).is(':checked') && $(this).val() == '100') {

            $("#custom-amount").val("100");
            $("#type").val("100");

        }
    });
            $('input:radio[name="radios"]').change(
    function(){
        if ($(this).is(':checked') && $(this).val() == '250') {

            $("#custom-amount").val("250");
            $("#type").val("250");

        }
    });
            $('input:radio[name="radios"]').change(
    function(){
        if ($(this).is(':checked') && $(this).val() == '500') {

            $("#custom-amount").val("500");
            $("#type").val("500");

        }
    });
            $('input:radio[name="radios"]').change(
    function(){
        if ($(this).is(':checked') && $(this).val() == '1000') {

            $("#custom-amount").val("1000");
            $("#type").val("1000");

        }
    });
            $('input:radio[name="radios"]').change(
    function(){
        if ($(this).is(':checked') && $(this).val() == '5000') {

            $("#custom-amount").val("5000");
            $("#type").val("5000");

        }
    });

            $('input:radio[name="radios"]').change(
    function(){
        if ($(this).is(':checked') && $(this).val() == '10000') {

            $("#custom-amount").val("10000");
            $("#type").val("10000");

        }
    });
$("#custom-amount").on('keyup',function () {
    $("#type").val($("#custom-amount").val());
});

        });
    </script>
{% endblock %}